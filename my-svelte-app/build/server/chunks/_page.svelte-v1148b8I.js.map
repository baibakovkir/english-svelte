{"version":3,"file":"_page.svelte-v1148b8I.js","sources":["../../../.svelte-kit/adapter-node/entries/pages/audio/_slug_/_page.svelte.js"],"sourcesContent":["import { c as create_ssr_component, o as onDestroy, e as escape, b as add_attribute } from \"../../../../chunks/ssr.js\";\nimport { Howl } from \"howler\";\nconst Page = create_ssr_component(($$result, $$props, $$bindings, slots) => {\n  let { data } = $$props;\n  let isPlaying = false;\n  let volume = 0.5;\n  let duration = 0;\n  let currentTime = 0;\n  const sound = new Howl({\n    src: [data.post.link],\n    html5: true,\n    volume,\n    onplay: () => {\n      isPlaying = true;\n      const intervalId = setInterval(\n        () => {\n          currentTime = sound.seek() + 0.01;\n        },\n        1e3\n      );\n      onDestroy(() => {\n        clearInterval(intervalId);\n      });\n    },\n    onpause: () => {\n      isPlaying = false;\n      currentTime = sound.seek();\n    },\n    onend: () => {\n      isPlaying = false;\n      currentTime = sound.seek();\n    },\n    onseek: () => {\n      currentTime = sound.seek();\n    },\n    onload: () => {\n      duration = sound.duration();\n    }\n  });\n  sound.on(\"play\", () => {\n    const updateCurrentTime = () => {\n      currentTime = sound.updateCurrentTime();\n    };\n    sound.on(\"play\", updateCurrentTime);\n    sound.on(\"seek\", updateCurrentTime);\n    sound.on(\"stop\", updateCurrentTime);\n  });\n  onDestroy(() => {\n    sound.unload();\n  });\n  if ($$props.data === void 0 && $$bindings.data && data !== void 0)\n    $$bindings.data(data);\n  return `<section class=\"initial\"><h1 class=\"initial__title\">${escape(data.post.title)}</h1> <div class=\"initial__about\"><div class=\"initial__box\"><!-- HTML_TAG_START -->${data.post.content}<!-- HTML_TAG_END --> <div><button>${escape(isPlaying ? \"Pause\" : \"Play\")}</button> <input type=\"range\" min=\"0\" max=\"1\" step=\"0.01\"${add_attribute(\"value\", volume, 0)}> <button>${escape(sound._muted ? \"Unmute\" : \"Mute\")}</button> <input type=\"range\" min=\"0\" max=\"1\" step=\"0.01\"${add_attribute(\"value\", currentTime / duration, 0)}> <span>${escape(currentTime / 60 >= 1 ? `${Math.floor(currentTime / 60)}:${currentTime % 60 < 10 ? \"0\" : \"\"}${(currentTime % 60).toFixed(0)}` : currentTime.toFixed(0))} / ${escape(duration / 60 >= 1 ? `${Math.floor(duration / 60)}:${duration % 60 < 10 ? \"0\" : \"\"}${(duration % 60).toFixed(0)}` : duration.toFixed(0))}</span></div></div></div></section>`;\n});\nexport {\n  Page as default\n};\n"],"names":[],"mappings":"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"}